(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[19,4],{1238:function(e,t,a){"use strict";a.r(t);var s=a(35),l=a(0),n=a(64),c=a(633),i=a(53),r=a(650),o=a(660),d=a(656),u=a(657),p=a(672),g=a(663),b=a(89),m=a(679),j=a(673),h=a(667),x=a(90),O=a(92),y=a(736),f=a(65),v=a(668),w=a(666),C=a.n(w),N=a(2);var S=e=>{let{title:t,handleProcess:a,processOption:s,product:l,handleIsCombination:n}=e;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:""+(l?"mb-3 flex flex-wrap justify-end items-center mr-8":"mb-3"),children:Object(N.jsxs)("div",{className:"flex flex-wrap items-center",children:[l?Object(N.jsx)("label",{className:"block text-base font-normal text-orange-500 dark:text-orange-400 mx-4",children:"Does this product have variants?"}):Object(N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:t}),Object(N.jsx)(C.a,{onChange:l?n:a,checked:s,className:"react-switch",uncheckedIcon:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingRight:45,paddingTop:1},children:"Fixed"}),width:125,height:33,handleDiameter:28,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingLeft:50,paddingTop:1},children:"Percentage"})})]})})})},T=a(658),k=a(171),A=a(168),D=a(177),P=a(648),I=a(15);var L=e=>{const{isDrawerOpen:t,closeDrawer:a,setIsUpdate:s,lang:n}=Object(l.useContext)(i.a),[c,r]=Object(l.useState)(""),[o,d]=Object(l.useState)(n),[u,p]=Object(l.useState)({}),[g,m]=Object(l.useState)(!1),[j,h]=Object(l.useState)(!1),[x,O]=Object(l.useState)(!1),y=Object(D.c)((e=>e.setting)),{settingItem:f}=y,v=f.find((e=>"globalSetting"===e.name)),w=(null===v||void 0===v?void 0:v.default_currency)||"$",{register:C,handleSubmit:N,setValue:S,clearErrors:T,formState:{errors:k}}=Object(A.a)();return Object(l.useEffect)((()=>{if(!t)return p({}),S("title"),S("productType"),S("couponCode"),S("endTime"),S("discountPercentage"),S("minimumAmount"),r(""),T("title"),T("productType"),T("couponCode"),T("endTime"),T("discountPercentage"),T("minimumAmount"),d(n),void S("language",o);e&&(async()=>{try{const s=await P.a.getCouponById(e);var t,a;if(s)p(s),S("title",s.title[o||"en"]),S("productType",s.productType),S("couponCode",s.couponCode),S("endTime",b(s.endTime).format("YYYY-MM-DD HH:mm")),S("discountPercentage",null===(t=s.discountType)||void 0===t?void 0:t.value),S("minimumAmount",s.minimumAmount),m("show"===s.status),h("percentage"===(null===(a=s.discountType)||void 0===a?void 0:a.type)),r(s.logo)}catch(n){var s,l;Object(I.b)(n?null===n||void 0===n||null===(s=n.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message:n.message)}})()}),[e,S,t,T,o,n]),{register:C,handleSubmit:N,onSubmit:async t=>{console.log("coupon data",t);try{O(!0);const l={title:{[o]:t.title},couponCode:t.couponCode,endTime:t.endTime,minimumAmount:t.minimumAmount,logo:c,lang:o,status:g?"show":"hide",discountType:{type:j?"percentage":"fixed",value:t.discountPercentage},discountPercentage:t.discountPercentage,productType:t.productType};if(e){const t=await P.a.updateCoupon(e,l);s(!0),O(!1),Object(I.c)(t.message),a()}else{const e=await P.a.addCoupon(l);s(!0),O(!1),Object(I.c)(e.message),a()}}catch(i){var l,n;Object(I.b)(i?null===i||void 0===i||null===(l=i.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message:i.message),O(!1),a()}},errors:k,setImageUrl:r,imageUrl:c,published:g,setPublished:m,currency:w,discountType:j,isSubmitting:x,setDiscountType:h,handleSelectLanguage:e=>{d(e),Object.keys(u).length>0&&S("title",u.title[e||"en"])}}},_=a(67),M=a(669);var $=e=>{let{id:t}=e;const{register:a,handleSubmit:l,onSubmit:n,errors:c,setImageUrl:i,imageUrl:r,published:o,setPublished:d,currency:u,discountType:p,setDiscountType:g,isSubmitting:b,handleSelectLanguage:m}=L(t);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"w-full relative  p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 ",children:t?Object(N.jsx)(T.a,{register:a,handleSelectLanguage:m,title:Object(_.b)("UpdateCoupon"),description:Object(_.b)("UpdateCouponDescription")}):Object(N.jsx)(T.a,{register:a,handleSelectLanguage:m,title:Object(_.b)("AddCoupon"),description:Object(_.b)("AddCouponDescription")})}),Object(N.jsx)(M.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:Object(N.jsxs)("form",{onSubmit:l(n),children:[Object(N.jsxs)("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("CouponBannerImage")}),Object(N.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(N.jsx)(k.a,{imageUrl:r,setImageUrl:i,folder:"coupon"})})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("CampaignName")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(O.a,{register:a,label:"Coupon title",name:"title",type:"text",placeholder:Object(_.b)("CampaignName")}),Object(N.jsx)(x.a,{errorName:c.title})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("CampaignCode")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(O.a,{register:a,label:"Coupon Code",name:"couponCode",type:"text",placeholder:Object(_.b)("CampaignCode")}),Object(N.jsx)(x.a,{errorName:c.couponCode})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("CouponValidityTime")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(s.Input,{...a("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:Object(_.b)("CouponValidityTime"),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(N.jsx)(x.a,{errorName:c.endTime})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("DiscountType")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(S,{handleProcess:g,processOption:p}),Object(N.jsx)(x.a,{errorName:c.discountType})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("Discount")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(y.a,{product:!0,register:a,maxValue:p?99:1e3,minValue:1,label:"Discount",name:"discountPercentage",type:"number",placeholder:p?"Percentage":"Fixed Amount",currency:p?"%":u}),Object(N.jsx)(x.a,{errorName:c.discountPercentage})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("MinimumAmount")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(y.a,{product:!0,register:a,maxValue:2e5,minValue:100,label:"Minimum Amount",name:"minimumAmount",type:"number",placeholder:Object(_.b)("MinimumAmountPlasholder"),currency:p?"%":u}),Object(N.jsx)(x.a,{errorName:c.minimumAmount})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object(_.b)("Published")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(v.a,{handleProcess:d,processOption:o}),Object(N.jsx)(x.a,{errorName:c.productType})]})]})]}),Object(N.jsx)(h.a,{id:t,title:"Coupon",isSubmitting:b})]})})]})},B=a(661),F=a(167),R=(a(645),a(9),a(169)),E=a(649),V=a(691);var U=e=>{let{lang:t,isCheck:a,setIsCheck:l,coupons:n}=e;const{data:c,loading:i}=Object(F.a)(P.a.getAllCoupons),{title:o,serviceId:d,handleModalOpen:p,handleUpdate:h}=Object(r.a)(c),{data:x}=Object(F.a)(R.a.getGlobalSetting),O=e=>{const{id:t,checked:s}=e.target;l([...a,t]),s||l(a.filter((e=>e!==t)))};return Object(N.jsxs)(N.Fragment,{children:[a.length<1&&Object(N.jsx)(B.a,{id:d,title:o}),a.length<2&&Object(N.jsx)(u.a,{children:Object(N.jsx)($,{id:d})}),Object(N.jsx)(s.TableBody,{children:null===n||void 0===n?void 0:n.map(((e,l)=>{var n,c,i,r;return Object(N.jsxs)(s.TableRow,{children:[Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(g.a,{type:"checkbox",name:null===e||void 0===e||null===(n=e.title)||void 0===n?void 0:n.en,id:e._id,handleClick:O,isChecked:null===a||void 0===a?void 0:a.includes(e._id)})}),Object(N.jsxs)(s.TableCell,{children:[Object(N.jsxs)("div",{className:"flex items-center",children:[null!==e&&void 0!==e&&e.logo?Object(N.jsx)(s.Avatar,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",src:null===e||void 0===e?void 0:e.logo,alt:"product"}):Object(N.jsx)(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-sm",children:Object(E.a)(null===e||void 0===e?void 0:e.title.en,t)})," "]})]})," "]}),Object(N.jsxs)(s.TableCell,{children:[" ",Object(N.jsxs)("span",{className:"text-sm",children:[" ",e.couponCode]})," "]}),Object(N.jsxs)(s.TableCell,{children:[" ",Object(N.jsxs)("span",{className:"text-sm font-semibold",children:[" ","percentage"===(null===e||void 0===e||null===(c=e.discountType)||void 0===c?void 0:c.type)?`${null===e||void 0===e||null===(i=e.discountType)||void 0===i?void 0:i.value}%`:`$${null===e||void 0===e||null===(r=e.discountType)||void 0===r?void 0:r.value}`]})," "]}),Object(N.jsx)(s.TableCell,{className:"text-center",children:Object(N.jsx)(m.a,{id:e._id,status:e.status})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:Object(V.a)(e.updatedAt,null===x||void 0===x?void 0:x.default_date_format)})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:Object(V.a)(e.updatedAt,null===x||void 0===x?void 0:x.default_date_format)})}),Object(N.jsx)(s.TableCell,{className:"align-middle ",children:b().isAfter(b(e.endTime))?Object(N.jsx)(s.Badge,{type:"danger",children:"Expired"}):Object(N.jsx)(s.Badge,{type:"success",children:"Active"})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(j.a,{id:null===e||void 0===e?void 0:e._id,isCheck:a,handleUpdate:h,handleModalOpen:p,title:Object(E.a)(null===e||void 0===e?void 0:e.title[t],t)})})]},l+1)}))})]})},q=a(664);var J=[{_id:"612a3805ea43af2750ca33ba",title:"August Gift Voucher",couponCode:"AUGUST21",endTime:"2021-08-31T06:00:00Z",discountPercentage:20,minimumAmount:1e3,productType:"Grocery",logo:"https://i.ibb.co/PDLPDHc/ins1.jpg",createdAt:"2021-08-15T13:20:05.898Z",updatedAt:"2021-10-15T09:21:29.795Z",status:"expired"},{_id:"612a45d4ea43af2750ca33d4",title:"Winter Gift Voucher",couponCode:"WINTER21",endTime:"2022-01-31T01:22:00Z",discountPercentage:12,minimumAmount:350,productType:"Cloths",logo:"https://i.ibb.co/4thS4Z1/ins2.jpg",createdAt:"2021-06-20T14:19:00.767Z",updatedAt:"2021-11-20T14:26:18.873Z",status:"available"},{_id:"612a4790ea43af2750ca33e3",title:"Summer Gift Voucher",couponCode:"SUMMER21",endTime:"2021-10-31T01:21:00Z",discountPercentage:15,minimumAmount:500,productType:"Grocery",logo:"https://i.ibb.co/wBBYm7j/ins4.jpg",createdAt:"2021-04-13T14:26:24.137Z",status:"available",updatedAt:"2021-11-15T19:21:45.041Z"},{_id:"614896fbfeb72600163babfe",title:"October Gift Voucher",couponCode:"BLACKFRIDAY21",endTime:"2021-12-31T14:16:00Z",discountPercentage:10,minimumAmount:300,productType:"Grocery",logo:"https://i.ibb.co/23kQcB9/ins3.jpg",createdAt:"2021-09-20T14:13:15.650Z",updatedAt:"2021-11-25T19:16:31.930Z",status:"expired"}],z=a(680);t.default=()=>{const{toggleDrawer:e,lang:t}=Object(l.useContext)(i.a),[a,b]=Object(l.useState)(!1),[m,j]=Object(l.useState)([]),{allId:h,serviceId:x,handleDeleteMany:O,handleUpdateMany:y}=Object(r.a)(),{data:f,loading:v}=Object(F.a)(P.a.getAllCoupons),{handleSubmitCoupon:w,couponRef:C,dataTable:S,serviceData:T,totalResults:k,resultsPerPage:A,handleChangePage:D}=Object(o.a)(f),{t:I}=Object(c.a)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(d.a,{children:I("CouponspageTitle")}),Object(N.jsx)(B.a,{ids:h,setIsCheck:j,title:"Selected Coupon"}),Object(N.jsx)(z.a,{ids:h,title:"Coupons"}),Object(N.jsx)(u.a,{children:Object(N.jsx)($,{id:x})}),Object(N.jsx)(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(N.jsx)(s.CardBody,{children:Object(N.jsxs)("form",{onSubmit:w,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6  xl:flex",children:[Object(N.jsx)("div",{className:"flex justify-start xl:w-1/2  md:w-full"}),Object(N.jsxs)("div",{className:"lg:flex  md:flex xl:justify-end xl:w-1/2  md:w-full md:justify-start flex-grow-0",children:[Object(N.jsx)("div",{className:"w-full md:w-40 lg:w-40 xl:w-40 mr-3 mb-3 lg:mb-0",children:Object(N.jsxs)(s.Button,{disabled:m.length<1,onClick:()=>y(m),className:"w-full rounded-md h-12 btn-gray text-gray-600",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(n.e,{})}),I("BulkAction")]})}),Object(N.jsx)("div",{className:"w-full md:w-32 lg:w-32 xl:w-32 mr-3 mb-3 lg:mb-0",children:Object(N.jsxs)(s.Button,{disabled:m.length<1,onClick:()=>O(m),className:"w-full rounded-md h-12 bg-red-500 btn-red",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(n.o,{})}),I("Delete")]})}),Object(N.jsx)("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:Object(N.jsxs)(s.Button,{onClick:e,className:"w-full rounded-md h-12",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(n.h,{})}),I("AddCouponsBtn")]})})]})]})})}),Object(N.jsx)(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(N.jsx)(s.CardBody,{children:Object(N.jsx)("form",{onSubmit:w,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:Object(N.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(N.jsx)(s.Input,{ref:C,type:"search",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",placeholder:I("SearchCoupon")})})})})}),v?Object(N.jsx)(p.a,{row:12,col:8,width:140,height:20}):0!==(null===T||void 0===T?void 0:T.length)?Object(N.jsxs)(s.TableContainer,{className:"mb-8",children:[Object(N.jsxs)(s.Table,{children:[Object(N.jsx)(s.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(g.a,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:()=>{b(!a),j(J.map((e=>e._id))),a&&j([])},isChecked:a})}),Object(N.jsx)(s.TableCell,{children:I("CoupTblCampaignsName")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblCode")}),Object(N.jsx)(s.TableCell,{children:I("Discount")}),Object(N.jsx)(s.TableCell,{className:"text-center",children:I("catPublishedTbl")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblStartDate")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblEndDate")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblStatus")}),Object(N.jsx)(s.TableCell,{className:"text-right",children:I("CoupTblActions")})]})}),Object(N.jsx)(U,{lang:t,isCheck:m,data:f,coupons:S,setIsCheck:j})]}),Object(N.jsx)(s.TableFooter,{children:Object(N.jsx)(s.Pagination,{totalResults:k,resultsPerPage:A,onChange:D,label:"Table navigation"})})]}):Object(N.jsx)(q.a,{title:"Sorry, There are no coupons right now."})]})}},643:function(e,t,a){"use strict";var s=a(9);const l={getAllCategory:async()=>s.a.get("/api/category/all"),getAllcategory:async()=>s.a.get("/api/category"),getCategoryById:async e=>s.a.get(`/api/category/${e}`),addCategory:async e=>s.a.post("/api/category/add",e),addAllCategory:async e=>s.a.post("/api/category/add/all",e),updateCategory:async(e,t)=>s.a.put(`/api/category/${e}`,t),updateStatus:async(e,t)=>s.a.put(`/api/category/status/${e}`,t),deleteCategory:async e=>{console.log("Request to delete category with ID:",e);try{const t=await s.a.delete(`/api/category/${e}`);return console.log("Response from backend:",t),t}catch(t){console.error("Error from backend:",t)}},updateManyCategory:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/category/update/many",{ids:t,status:a})},deleteManyCategory:async e=>s.a.patch("/api/category/delete/many",e)};t.a=l},644:function(e,t,a){"use strict";var s=a(9);const l={getAllLanguages:async()=>s.a.get("/api/language/all"),getShowingLanguage:async()=>s.a.get("/api/language/show"),getLanguageById:async e=>s.a.get(`/api/language/${e}`),addLanguage:async e=>s.a.post("/api/language/add",e),addAllLanguage:async e=>s.a.post("/api/language/add/all",e),updateLanguage:async(e,t)=>s.a.put(`/api/language/${e}`,t),updateManyLanguage:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/language/update/many",{ids:t,status:a})},updateStatus:async(e,t)=>s.a.put(`/api/language/status/${e}`,t),deleteLanguage:async e=>s.a.patch(`/api/language/${e}`),deleteManyLanguage:async e=>s.a.patch("/api/language/delete/many",e)};t.a=l},645:function(e,t,a){"use strict";var s=a(9);const l={getAllAttributes:async e=>{let{type:t,option:a,option1:l}=e;return s.a.get("/api/attributes")},getShowingAttributes:async()=>s.a.get("/api/attributes/show"),addAttribute:async e=>s.a.post("/api/attributes/add",e),addAllAttributes:async e=>s.a.post("/api/attributes/add/all",e),addChildAttributes:async(e,t)=>(console.log("ids : ",e),console.log("Datas : ",t),s.a.put(`/api/attributes/add/child/${e}`,t)),getAttributeById:async e=>s.a.get(`/api/attributes/${e}`),updateAttributes:async(e,t)=>s.a.put(`/api/attributes/${e}`,t),updateChildAttributes:async(e,t)=>{let{id:a,ids:l}=e;return s.a.put(`/api/attributes/update/child/${l}/${a}`,t)},updateStatus:async(e,t)=>s.a.put(`/api/attributes/status/${e}`,t),updateChildStatus:async(e,t)=>s.a.put(`/api/attributes/status/child/${e}`,t),deleteAttribute:async e=>(console.log(":id ",e),s.a.delete(`/api/attributes/${e}`)),deleteChildAttribute:async(e,t)=>{let{id:a,ids:l}=e;return s.a.delete(`/api/attributes/delete/child/${l}/${a}`,t)},updateManyAttribute:async e=>s.a.patch("/api/attributes/update/many",e),deleteManyAttribute:async e=>{const{ids:t}=e;return s.a.delete("/api/attributes/delete/many",{data:{ids:t}})},updateManyChildAttribute:async e=>s.a.patch("/api/attributes/delete/child/many",e),deleteManyChildAttribute:async e=>s.a.patch("/api/attributes/delete/child/many",e)};t.a=l},646:function(e,t,a){"use strict";var s=a(9),l=a(690);const n=Object(l.a)("http://localhost:5055"),c={getAllProducts:async()=>s.a.get("/api/products"),getProductById:async e=>s.a.get(`/api/products/product/${e}`),getProductBySlug:async e=>s.a.get(`/api/products/product/${e}`),addProduct:async e=>s.a.post("/api/products/add",e),addAllProducts:async e=>s.a.post("/api/products/all",e),updateProduct:async(e,t)=>(console.log("ids and bodyy : ",e,t),s.a.patch(`/api/products/${e}`,t)),updateManyProducts:async e=>s.a.patch("/api/products/update/many",e),updateStatus:async(e,t)=>{const a=await s.a.put(`/api/products/status/${e}`,t);return 200===a.status&&n.emit("updateStatus",e,t.status),a},subscribeToStatusUpdates:e=>{n.on("statusUpdate",e)},unsubscribeFromStatusUpdates:()=>{n.off("statusUpdate")},deleteProduct:async e=>s.a.delete(`/api/products/${e}`),deleteManyProducts:async e=>s.a.patch("/api/products/delete/many",e)};t.a=c},647:function(e,t,a){"use strict";var s=a(9);const l={getAllCurrency:async()=>s.a.get("/api/currency"),updatePriorities:async e=>s.a.patch("/api/currency/update/priorities",e),getShowingCurrency:async e=>s.a.get("/api/currency/show"),getCurrencyById:async e=>s.a.get(`/api/currency/${e}`),addCurrency:async e=>s.a.post("/api/currency/add",e),addAllCurrency:async e=>s.a.post("/api/currency/add/all",e),updateCurrency:async(e,t)=>s.a.put(`/api/currency/${e}`,t),updateManyCurrencies:async e=>(console.log("udpates currencies",e),s.a.patch("/api/currency/update/many",e)),updateEnabledStatus:async(e,t)=>s.a.put(`/api/currency/status/enabled/${e}`,t),updateLiveExchangeRateStatus:async(e,t)=>s.a.put(`/api/currency/status/live-exchange-rates/${e}`,t),deleteCurrency:async e=>s.a.delete(`/api/currency/${e}`),deleteManyCurrency:async e=>s.a.patch("/api/currency/delete/many",e)};t.a=l},648:function(e,t,a){"use strict";var s=a(9);const l={addCoupon:async e=>s.a.post("/api/coupon/add",e),addAllCoupon:async e=>s.a.post("/api/coupon/add/all",e),getAllCoupons:async()=>s.a.get("/api/coupon"),getCouponById:async e=>s.a.get(`/api/coupon/${e}`),updateCoupon:async(e,t)=>s.a.put(`/api/coupon/${e}`,t),updateManyCoupons:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/coupon/update/many",{ids:t,status:a})},updateStatus:async(e,t)=>s.a.put(`/api/coupon/status/${e}`,t),deleteCoupon:async e=>s.a.delete(`/api/coupon/${e}`),deleteManyCoupons:async e=>s.a.patch("/api/coupon/delete/many",e)};t.a=l},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=e=>{const t=[];return t.hasOwnProperty(e)?t[e]:e}},650:function(e,t,a){"use strict";var s=a(0),l=a(53);t.a=()=>{const[e,t]=Object(s.useState)(""),[a,n]=Object(s.useState)([]),[c,i]=Object(s.useState)(""),{toggleDrawer:r,isDrawerOpen:o,toggleModal:d,toggleBulkDrawer:u}=Object(s.useContext)(l.a);Object(s.useEffect)((()=>{o||t()}),[o]);return{title:c,allId:a,serviceId:e,handleUpdate:e=>{console.log("Updating serviceId with ID:",e),t(e),r()},setServiceId:t,handleModalOpen:(e,a)=>{console.log("id openss :",e),t(e),d(),i(a)},handleDeleteMany:async e=>{console.log("id manys : ",e),n(e),d(),i(c)},handleUpdateMany:e=>{console.log("Updating serviceId with ID:",e),n(e),u()}}}},652:function(e,t,a){"use strict";t.a=a.p+"static/media/spinner.da6beb0d.gif"},654:function(e,t,a){"use strict";a(0);var s=a(682),l=a(2);t.a=e=>{let{id:t,Icon:a,title:n,bgColor:c}=e;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{"data-tip":!0,"data-for":t,className:"text-xl",children:Object(l.jsx)(a,{})}),Object(l.jsx)(s.a,{id:t,backgroundColor:c,children:Object(l.jsx)("span",{className:"text-sm font-medium",children:n})})]})}},656:function(e,t,a){"use strict";a(0);var s=a(2);t.a=e=>{let{children:t}=e;return Object(s.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:t})}},657:function(e,t,a){"use strict";var s=a(53),l=a(676),n=a(0),c=a.n(n),i=a(12),r=a(2);const o=e=>{let{children:t,product:a}=e;const{toggleDrawer:c,isDrawerOpen:o,closeDrawer:d,windowDimension:u}=Object(n.useContext)(s.a),[p,g]=Object(n.useState)(!1),b=Object(i.useLocation)();return Object(n.useEffect)((()=>{"/products"===b.pathname&&g(!0)}),[]),Object(r.jsx)(l.a,{open:o,onClose:d,parent:null,level:null,placement:"right",width:""+(u<=575?"100%":a||p?"85%":"50%"),children:Object(r.jsx)("div",{className:"flex flex-col w-full h-full justify-between",children:t})})};t.a=c.a.memo(o)},658:function(e,t,a){"use strict";var s=a(0),l=a(167),n=a(644),c=a(53),i=a(2);var r=e=>{let{handleSelectLanguage:t,register:a}=e;const{data:r,loading:o,error:d}=Object(l.a)(n.a.getShowingLanguage),{lang:u}=Object(s.useContext)(c.a);return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("select",{name:"language",...a("language",{required:"language is required!"}),onChange:e=>t(e.target.value),className:"dark:border-gray-600 focus:shadow-none w-20 h-8 px-2 py-1 mt-1 text-gray-800 dark:text-gray-300 form-select outline-none text-sm focus:outline-none block rounded-md bg-gray-50 border-transparent focus:bg-white border-green-400 dark:bg-gray-700 focus:border-green-400 dark:focus:border-green-400 focus:ring focus:ring-green-200 dark:focus:ring-green-200",children:[Object(i.jsx)("option",{value:u,defaultChecked:!0,hidden:!0,children:u}),!d&&!o&&(null===r||void 0===r?void 0:r.map((e=>Object(i.jsxs)("option",{value:e.iso_code,children:[e.iso_code," "]},e._id))))]})})};t.a=e=>{let{title:t,description:a,handleSelectLanguage:s,register:l}=e;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"flex md:flex-row flex-col justify-between",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{className:"text-xl font-medium dark:text-gray-300",children:t}),Object(i.jsx)("p",{className:"mb-0 text-sm dark:text-gray-300",children:a})]}),s&&Object(i.jsx)(r,{handleSelectLanguage:s,register:l})]})})}},660:function(e,t,a){"use strict";var s=a(686),l=a.n(s),n=a(687),c=a.n(n),i=a(89),r=a(683),o=a.n(r),d=a(684),u=a.n(d),p=a(0),g=a(12),b=a(688),m=a(53),j=a(645),h=a(643),x=a(648),O=a(647),y=a(659),f=a(644),v=a(646),w=a(169),C=a(15),N=a(167);const S={type:"object",properties:{_id:{type:"string"},name:{type:"object"},description:{type:"object"},icon:{type:"string"},status:{type:"string"}},required:["name"]},T={type:"object",properties:{status:{type:"string"},title:{type:"object"},name:{type:"object"},variants:{type:"array"},option:{type:"string"},type:{type:"string"}},required:["name","title"]},k={type:"object",properties:{title:{type:"object"},couponCode:{type:"string"},endTime:{type:"string"},discountPercentage:{type:"number"},minimumAmount:{type:"number"},productType:{type:"string"},logo:{type:"string"},discountType:{type:"object"},status:{type:"string"}},required:["title","couponCode","endTime","status"]},A={type:"object",properties:{name:{type:"string"},email:{type:"string"}},required:["name","email"]};t.a=e=>{const t=new l.a({allErrors:!0}),[a,s]=Object(p.useState)(""),[n,r]=Object(p.useState)(""),[d,D]=Object(p.useState)(""),[P,I]=Object(p.useState)(""),[L,_]=Object(p.useState)(""),[M,$]=Object(p.useState)(""),[B,F]=Object(p.useState)(""),[R,E]=Object(p.useState)(""),[V,U]=Object(p.useState)(""),[q,J]=Object(p.useState)(""),[z,Z]=Object(p.useState)(""),[H,G]=Object(p.useState)(""),[Y,K]=Object(p.useState)(""),[Q,W]=Object(p.useState)(""),[X,ee]=Object(p.useState)([]),[te,ae]=Object(p.useState)([]),[se,le]=Object(p.useState)([]),[ne,ce]=Object(p.useState)(""),[ie,re]=Object(p.useState)(""),[oe,de]=Object(p.useState)(""),[ue,pe]=Object(p.useState)(1),[ge,be]=Object(p.useState)(10),[me,je]=Object(p.useState)([]),[he,xe]=Object(p.useState)(""),[Oe,ye]=Object(p.useState)(""),[fe,ve]=Object(p.useState)(""),[we,Ce]=Object(p.useState)([]),[Ne,Se]=Object(p.useState)(""),[Te,ke]=Object(p.useState)(!1),[Ae,De]=Object(p.useState)(""),[Pe]=Object(p.useState)([]),Ie=Object(p.useRef)(""),Le=Object(p.useRef)(""),_e=Object(p.useRef)(""),Me=Object(p.useRef)(""),$e=Object(p.useRef)(""),Be=Object(p.useRef)(""),Fe=Object(p.useRef)(""),Re=Object(p.useRef)(""),Ee=Object(p.useRef)(""),Ve=Object(p.useRef)(""),Ue=Object(p.useRef)("");i.extend(o.a),i.extend(u.a);const qe=Object(g.useLocation)(),{lang:Je,setIsUpdate:ze,setLoading:Ze}=Object(p.useContext)(m.a),{data:He}=Object(N.a)(w.a.getGlobalSetting),Ge=Object(p.useMemo)((()=>{const t=new Date;t.setDate(t.getDate()-oe);let s=null===e||void 0===e?void 0:e.map((e=>{const t=new Date(null===e||void 0===e?void 0:e.updatedAt).toLocaleString("en-US",{timeZone:null===He||void 0===He?void 0:He.default_time_zone});return{...e,updatedDate:"Invalid Date"===t?"":t}}));if("/dashboard"===qe.pathname){var l,c,r,o,u,p;const e=null===(l=s)||void 0===l?void 0:l.filter((e=>"Pending"===e.status));ee(e);const t=null===(c=s)||void 0===c?void 0:c.filter((e=>"Processing"===e.status));ae(t);const a=null===(r=s)||void 0===r?void 0:r.filter((e=>"Delivered"===e.status));le(a);const n=null===(o=s)||void 0===o?void 0:o.filter((e=>i(e.createdAt).isToday())),d=null===n||void 0===n?void 0:n.reduce(((e,t)=>e+t.total),0);xe(d);const g=null===(u=s)||void 0===u?void 0:u.filter((e=>i(e.createdAt).isBetween((new Date).setDate((new Date).getDate()-30),new Date))),b=null===g||void 0===g?void 0:g.reduce(((e,t)=>e+t.total),0);ye(b);const m=null===(p=s)||void 0===p?void 0:p.reduce(((e,t)=>e+t.total),0);ve(m)}var g;(a&&"Category"!==a&&(s=s.filter((e=>e.parent===a)),console.log("hi",a)),"low"===n&&(s=s.sort(((e,t)=>e.originalPrice-t.originalPrice))),"high"===n&&(s=s.sort(((e,t)=>t.originalPrice-e.originalPrice))),"published"===n&&(s=s.filter((e=>"show"===e.status))),"unPublished"===n&&(s=s.filter((e=>"hide"===e.status))),"status-selling"===n&&(s=s.filter((e=>e.quantity>0))),"status-out-of-stock"===n&&(s=s.filter((e=>0===e.quantity))),"date-added-asc"===n&&(s=s.sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)))),"date-added-desc"===n&&(s=s.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))),"date-updated-asc"===n&&(s=s.sort(((e,t)=>new Date(e.updatedAt)-new Date(t.updatedAt)))),"date-updated-desc"===n&&(s=s.sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)))),d&&(s=s.filter((e=>{var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase())}))),R&&(s=s.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.title[Je])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===R||void 0===R?void 0:R.toLowerCase()))||(null===e||void 0===e||null===(s=e.attribute)||void 0===s?void 0:s.toLowerCase().includes(null===R||void 0===R?void 0:R.toLowerCase()))}))),B&&(s=s.filter((e=>{const{parent:t,children:a}=e,s=B.toLowerCase();return console.log("Category:",e),console.log("Lowercase Category Type:",s),t&&t.toLowerCase().includes(s)?(console.log("Parent Category Matched:",t),!0):!(!a||!a.some((e=>e.toLowerCase().includes(s))))&&(console.log("Child Category Matched:",a),!0)}))),ie&&"All"!==ie&&(s=s.filter((e=>e.role===ie)),console.log("hi: ",s)),P&&(s=s.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.name[Je])||void 0===t?void 0:t.toLowerCase().includes(P.toLowerCase()))||(null===e||void 0===e||null===(a=e.phone)||void 0===a?void 0:a.toLowerCase().includes(P.toLowerCase()))||(null===e||void 0===e||null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(P.toLowerCase()))}))),L)&&(s=null===(g=s)||void 0===g?void 0:g.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.title[Je])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===L||void 0===L?void 0:L.toLowerCase()))||(null===e||void 0===e||null===(s=e.couponCode)||void 0===s?void 0:s.toLowerCase().includes(null===L||void 0===L?void 0:L.toLowerCase()))})));if(ne&&"Status"!==ne&&(s=s.filter((e=>e.status===ne))),M&&(s=s.filter((e=>e.user_info.name.toLowerCase().includes(M.toLowerCase())))),oe&&"Order limits"!==oe&&(s=s.filter((e=>i(e.createdAt).isBetween(t,new Date)))),z&&H){const e=new Date(z),t=new Date(H);s=s.filter((a=>i(a.createdAt).isBetween(e,t))),console.log("datess herees :",s)}return V&&(s=s.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(V.toLowerCase()))||(null===e||void 0===e||null===(a=e.iso_code)||void 0===a?void 0:a.toLowerCase().includes(V.toLowerCase()))}))),Ae&&(s=s.filter((e=>null===e||void 0===e?void 0:e.name.toLowerCase().includes(Ae.toLowerCase())))),Y&&(s=s.filter((e=>{const t=e.name?e.name.toLowerCase():"",a=e.iso_code?e.iso_code.toLowerCase():"",s=e.language_code?e.language_code.toLowerCase():"";return t.includes(Y.toLowerCase())||a.includes(Y.toLowerCase())||s.includes(Y.toLowerCase())}))),Q&&(s=s.filter((e=>(e&&e.name?e.name.toLowerCase():"").includes(Q.toLowerCase())))),s}),[oe,e,qe.pathname,a,n,d,R,B,ie,P,L,ne,M,V,Ae,Y,Q,null===He||void 0===He?void 0:He.default_time_zone,Je]),Ye=null===Ge||void 0===Ge?void 0:Ge.length;Object(p.useEffect)((()=>{let e;if((null===Ge||void 0===Ge?void 0:Ge.length)>0){const t=(ue-1)*ge,a=Math.min(ue*ge,null===Ge||void 0===Ge?void 0:Ge.length);e=Ge.slice(t,a)}else e=Ge;R||B||P||L||ne||M||V||Ae||Y||Q||d?(pe(1),be((null===Ge||void 0===Ge?void 0:Ge.length)||1),je(Ge)):(be(10),je(e))}),[Ge,ue,ge,a,n,d,R,B,ie,P,L,ne,M,V,Ae,Y,Q]),Object(p.useEffect)((()=>{const e=(null===Ge||void 0===Ge?void 0:Ge.length)||0,t=Math.min(ue*ge,e);t>0&&Math.min((ue-1)*ge+1,e)}),[Ge,ue,ge]);return{userRef:_e,searchRef:Le,couponRef:Me,orderRef:$e,categoryRef:Be,attributeRef:Fe,pending:X,processing:te,delivered:se,todayOrder:he,monthlyOrder:Oe,totalOrder:fe,setFilter:s,setSortedField:r,setStatus:ce,setRole:re,time:oe,setTime:de,handleChangePage:e=>{console.log("Changing page to:",e),pe(e)},totalResults:Ye,resultsPerPage:ge,dataTable:me,serviceData:Ge,handleSubmitUser:e=>{e.preventDefault(),I(_e.current.value)},handleSubmitForAll:e=>{console.log("hi: ",Le.current.value),e.preventDefault(),D(Le.current.value),pe(1)},handleSubmitCoupon:e=>{e.preventDefault(),_(Me.current.value)},handleSubmitOrder:e=>{e.preventDefault(),$($e.current.value)},handleSubmitCategory:e=>{console.log("hi : ",Be.current.value),e.preventDefault(),F(Be.current.value)},handleSubmitAttribute:e=>{e.preventDefault(),E(Fe.current.value)},handleOnDrop:e=>{for(let t=0;t<e.length;t++)Pe.push(e[t].data)},handleUploadProducts:()=>{Pe.length<1?Object(C.b)("Please upload/select csv file first!"):v.a.addAllProducts(Pe).then((e=>{Object(C.c)(e.message)})).catch((e=>Object(C.b)(e.message)))},countryRef:Re,country:V,setCountry:U,zone:q,setZone:J,startDate:z,setStartDate:Z,endDate:H,setEndDate:G,handleSubmitCountry:e=>{e.preventDefault(),U(Re.current.value)},languageRef:Ee,handleSubmitLanguage:e=>{e.preventDefault(),K(Ee.current.value)},handleSelectFile:e=>{var t;e.preventDefault();const a=new FileReader,s=null===(t=e.target)||void 0===t?void 0:t.files[0];if(s&&"application/json"===s.type)Se(null===s||void 0===s?void 0:s.name),ke(!0),a.readAsText(s,"UTF-8"),a.onload=e=>{let t=JSON.parse(e.target.result),a=[];"/categories"===qe.pathname&&(a=t.map((e=>({_id:e._id,id:e.id,status:e.status,name:e.name,description:e.description,parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(a=t.map((e=>({_id:e._id,status:e.status,title:e.title,name:e.name,variants:e.variants,option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(a=t.map((e=>({title:e.title,couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,discountType:e.discountType,status:e.status})))),"/customers"===qe.pathname&&(a=t.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Ce(a)};else if(s&&"text/csv"===s.type)Se(null===s||void 0===s?void 0:s.name),ke(!0),a.onload=async e=>{const t=e.target.result,a=await c()().fromString(t);console.log("json",a);let s=[];"/categories"===qe.pathname&&(s=a.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(s=a.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(s=a.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage?JSON.parse(e.discountPercentage):0,minimumAmount:e.minimumAmount?JSON.parse(e.minimumAmount):0,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===qe.pathname&&(s=a.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Ce(s)},a.readAsText(s);else{Se(null===s||void 0===s?void 0:s.name),ke(!0);const e=!!a.readAsBinaryString;a.onload=function(t){const a=t.target.result,s=b.a(a,{type:e?"binary":"array",bookVBA:!0}),l=s.SheetNames[0],n=s.Sheets[l],c=b.b.sheet_to_json(n);let i=[];"/categories"===qe.pathname&&(i=c.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(i=c.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(i=c.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===qe.pathname&&(i=c.map((e=>({name:e.name,email:e.email,password:e.password?e.password:"null",phone:e.phone?e.phone:"null"})))),Ce(i)},e?a.readAsBinaryString(s):a.readAsArrayBuffer(s)}},handleUploadMultiple:e=>{if(Object(C.b)("This feature is disabled for demo!"),we.length>1){if("/categories"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(S,e))).every(e)?h.a.addAllCategory(we).then((e=>{Ze(!1),ze(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/customers"===qe.pathname){Ze(!0);let e=we.map((e=>t.validate(A,e)));const a=e=>!0===e,s=e.every(a);console.log(s),console.log(e),s?y.a.addAllCustomers(we).then((e=>{Ze(!1),ze(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/coupons"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(k,e))).every(e)?x.a.addAllCoupon(we).then((e=>{Ze(!1),ze(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/attributes"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(T,e))).every(e)?j.a.addAllAttributes(we).then((e=>{Ze(!1),ze(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}"/languages"===qe.pathname&&f.a.addAllLanguage(we).then((e=>{ze(!0),Object(C.c)(e.message)})).catch((e=>Object(C.b)(e?e.response.data.message:e.message))),"/currencies"===qe.pathname&&O.a.addAllCurrency(we).then((e=>{ze(!0),Object(C.c)(e.message)})).catch((e=>Object(C.b)(e?e.response.data.message:e.message)))}else Object(C.b)("Please select a valid .JSON/.CSV/.XLS file first!")},filename:Ne,isDisabled:Te,handleRemoveSelectFile:e=>{Se(""),Ce([]),setTimeout((()=>ke(!1)),1e3)},taxRef:Ve,currencyRef:Ie,handleSubmitCurrency:e=>{e.preventDefault(),W(Ie.current.value)},handleSubmitShipping:e=>{e.preventDefault(),De(Ue.current.value)},shippingRef:Ue,globalSetting:He,currentPage:ue}}},661:function(e,t,a){"use strict";var s=a(35),l=a(0),n=a.n(l),c=a(64),i=a(12),r=a(652),o=a(53),d=a(91),u=a(643),p=a(648),g=a(659),b=a(644),m=a(646),j=a(633),h=a(650),x=a(645),O=a(647),y=a(15),f=a(2);const v=e=>{let{allId:t,id:a,ids:n,setIsCheck:v,category:w,title:C,useParamId:N}=e;const{isModalOpen:S,closeModal:T,setIsUpdate:k}=Object(l.useContext)(o.a),{setServiceId:A}=Object(h.a)(),D=Object(i.useLocation)(),[P,I]=Object(l.useState)(!1),{t:L}=Object(j.a)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(s.Modal,{isOpen:S,onClose:T,children:[Object(f.jsxs)(s.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[Object(f.jsx)("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:Object(f.jsx)(c.o,{})}),Object(f.jsxs)("h2",{className:"text-xl font-medium mb-2",children:[L("DeleteModalH2")," ",Object(f.jsx)("span",{className:"text-red-500",children:C}),"?"]}),Object(f.jsx)("p",{children:L("DeleteModalPtag")})]}),Object(f.jsxs)(s.ModalFooter,{className:"justify-center",children:[Object(f.jsx)(s.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:T,children:L("modalKeepBtn")}),Object(f.jsx)("div",{className:"flex justify-end",children:P?Object(f.jsxs)(s.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[Object(f.jsx)("img",{src:r.a,alt:"Loading",width:20,height:10})," ",Object(f.jsx)("span",{className:"font-serif ml-2 font-light",children:L("Processing")})]}):Object(f.jsx)(s.Button,{onClick:async()=>{try{if(I(!0),"/products"===D.pathname)if(n){const e=await m.a.deleteManyProducts({ids:n});k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await m.a.deleteProduct(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/coupons"===D.pathname)if(n){const e=await p.a.deleteManyCoupons({ids:n});k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await p.a.deleteCoupon(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/categories"===D.pathname||w)if(n){console.log("delete modal categorices",n);const e=await u.a.deleteManyCategory({ids:n});console.log("delete many category res",e),k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await u.a.deleteCategory(a);console.log("delete modal categorices",a),k(!0),Object(y.c)(e.message),T(),A(),I(!1)}if("/customers"===D.pathname){const e=await g.a.deleteCustomer(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/attributes"===D.pathname)if(n){const e=await x.a.deleteManyAttribute({ids:n});console.log("Delete many attributes response:",e),k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{console.log("Deleting attribute with ID:",a);const e=await x.a.deleteAttribute(a);console.log("Delete attribute response:",e),k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if(D.pathname===`/attributes/${D.pathname.split("/")[2]}`)if(n){console.log("Deleting many child attributes with IDs:",n);const e=await x.a.deleteManyChildAttribute({id:D.pathname.split("/")[2],ids:n});console.log("Delete many child attributes response:",e),k(!0),Object(y.c)(e.message),A(),v([]),T(),I(!1)}else{console.log("Deleting child attribute with ID:",a),console.log("Parent attribute ID:",D.pathname.split("/")[2]);const e=await x.a.deleteChildAttribute({id:a,ids:D.pathname.split("/")[2]});console.log("Delete child attribute response:",e),k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/our-staff"===D.pathname){const e=await d.a.deleteStaff(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/languages"===D.pathname)if(n){const e=await b.a.deleteManyLanguage({ids:n});k(!0),Object(y.c)(e.message),v([]),T(),I(!1)}else{const e=await b.a.deleteLanguage(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/currencies"===D.pathname)if(n){const e=await O.a.deleteManyCurrency({ids:n});k(!0),Object(y.c)(e.message),v([]),T(),I(!1)}else{const e=await O.a.deleteCurrency(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}}catch(s){var e,t;Object(y.b)(s?null===s||void 0===s||null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message:null===s||void 0===s?void 0:s.message),A(),v([]),T(),I(!1)}},className:"w-full h-12 sm:w-auto",children:L("modalDeletBtn")})})]})]})})};t.a=n.a.memo(v)},663:function(e,t,a){"use strict";a(0);var s=a(2);t.a=e=>{let{id:t,name:a,type:l,handleClick:n,isChecked:c}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("input",{id:t,name:a,type:l,onChange:n,checked:c})})}},664:function(e,t,a){"use strict";a(0);var s=a.p+"static/media/no-result.ec22e94c.svg",l=a(2);t.a=e=>{let{title:t}=e;return Object(l.jsxs)("div",{className:"text-center align-middle mx-auto p-5 my-5",children:[Object(l.jsx)("img",{className:"my-4",src:s,alt:"no-result",width:"400"}),Object(l.jsxs)("h2",{className:"text-lg md:text-xl lg:text-2xl xl:text-2xl text-center mt-2 font-medium font-serif text-gray-600",children:["Sorry, we can not find this ",t,Object(l.jsx)("span",{role:"img","aria-labelledby":"img",children:"\ud83d\ude1e"})]})]})}},665:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(0),l=a.n(s);const n=l.a.createContext({}),c=!0;function i(e){let{baseColor:t,highlightColor:a,width:s,height:l,borderRadius:n,circle:i,direction:r,duration:o,enableAnimation:d=c}=e;const u={};return"rtl"===r&&(u["--animation-direction"]="reverse"),"number"===typeof o&&(u["--animation-duration"]=`${o}s`),d||(u["--pseudo-element-display"]="none"),"string"!==typeof s&&"number"!==typeof s||(u.width=s),"string"!==typeof l&&"number"!==typeof l||(u.height=l),"string"!==typeof n&&"number"!==typeof n||(u.borderRadius=n),i&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof a&&(u["--highlight-color"]=a),u}function r(e){let{count:t=1,wrapper:a,className:s,containerClassName:r,containerTestId:o,circle:d=!1,style:u,...p}=e;var g,b,m;const j=l.a.useContext(n),h={...p};for(const[l,n]of Object.entries(p))"undefined"===typeof n&&delete h[l];const x={...j,...h,circle:d},O={...u,...i(x)};let y="react-loading-skeleton";s&&(y+=` ${s}`);const f=null!==(g=x.inline)&&void 0!==g&&g,v=[],w=Math.ceil(t);for(let n=0;n<w;n++){let e=O;if(w>t&&n===w-1){const a=null!==(b=e.width)&&void 0!==b?b:"100%",s=t%1,l="number"===typeof a?a*s:`calc(${a} * ${s})`;e={...e,width:l}}const a=l.a.createElement("span",{className:y,style:e,key:n},"\u200c");f?v.push(a):v.push(l.a.createElement(l.a.Fragment,{key:n},a,l.a.createElement("br",null)))}return l.a.createElement("span",{className:r,"data-testid":o,"aria-live":"polite","aria-busy":null!==(m=x.enableAnimation)&&void 0!==m?m:c},a?v.map(((e,t)=>l.a.createElement(a,{key:t},e))):v)}},667:function(e,t,a){"use strict";var s=a(0),l=a(35),n=a(633),c=a(53),i=a(652),r=a(2);t.a=e=>{let{id:t,title:a,isSubmitting:o}=e;const{t:d}=Object(n.a)(),{toggleDrawer:u,isDrawerOpen:p}=Object(s.useContext)(c.a);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"fixed z-10 bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",style:{right:!p&&-50},children:[Object(r.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(r.jsx)(l.Button,{onClick:u,className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:d("CancelBtn")})}),Object(r.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:o?Object(r.jsxs)(l.Button,{disabled:!0,type:"button",className:"w-full h-12",children:[Object(r.jsx)("img",{src:i.a,alt:"Loading",width:20,height:10})," ",Object(r.jsx)("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):Object(r.jsx)(l.Button,{type:"submit",className:"w-full h-12",children:t?Object(r.jsxs)("span",{children:[d("UpdateBtn")," ",a]}):Object(r.jsxs)("span",{children:["Add ",a]})})})]})})}},668:function(e,t,a){"use strict";var s=a(666),l=a.n(s),n=a(2);t.a=e=>{let{title:t,handleProcess:a,processOption:s}=e;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsxs)("div",{className:"flex flex-wrap items-center",children:[Object(n.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:t}),Object(n.jsx)(l.a,{onChange:a,checked:s,className:"react-switch md:ml-0 ml-3",uncheckedIcon:Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingRight:5,paddingTop:1},children:"No"}),width:80,height:30,handleDiameter:28,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingLeft:8,paddingTop:1},children:"Yes"})})]})})})}},670:function(e,t,a){"use strict";var s=a(167),l=a(674),n=a.n(l),c=a(675),i=a(643),r=a(15),o=a(649),d=a(2);t.a=e=>{let{selectedCategory:t,setSelectedCategory:a,setDefaultCategory:l,lang:u}=e;const{data:p,loading:g}=Object(s.a)(null===i.a||void 0===i.a?void 0:i.a.getAllCategory),b=e=>{const s=p.find((t=>t._id===e));if(t.some((t=>t._id===e)))a((t=>t.filter((t=>t._id!==e)))),a((e=>e.filter((e=>!s.children||!s.children.map((e=>e._id)).includes(e._id)))));else if(a((e=>[...e,{_id:s._id,name:Object(o.a)(null===s||void 0===s?void 0:s.parent,u)}])),s.children&&s.children.length>0){if(Object(r.c)("Do you want to select all children categories?")){const e=s.children.map((e=>({_id:e,name:Object(o.a)(e,u)})));a((t=>[...t,...e]))}}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsx)(n.a,{displayValue:"name",groupBy:"name",isObject:!0,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:e=>(e=>{a(e)})(e),onSearch:function(){},onSelect:e=>b(e),options:t,selectedValues:t,placeholder:"Select Category"})}),!g&&void 0!==p&&Object(d.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(d.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  .rc-tree-child-tree {\n    display: block;\n  }\n  .node-motion {\n    transition: all .3s;\n    overflow-y: hidden;\n  }\n"}}),Object(d.jsx)(c.a,{expandAction:"click",treeData:(e=>{let t=[];if(void 0!==e)for(let a of e){let e=[];a.children&&a.children.length>0&&(e=a.children.map((e=>({title:Object(o.a)(e,u),key:e})))),t.push({title:Object(o.a)(null===a||void 0===a?void 0:a.parent,u),key:a._id,children:e})}return t})(p),onSelect:e=>b(e[0]),motion:{motionName:"node-motion",motionAppear:!1,onAppearStart:e=>({height:0}),onAppearActive:e=>({height:e.scrollHeight}),onLeaveStart:e=>({height:e.offsetHeight}),onLeaveActive:()=>({height:0})},animation:"slide-up"})]})]})}},672:function(e,t,a){"use strict";var s=a(35),l=a(0),n=a(665),c=a(2);t.a=e=>{let{row:t=5,col:a=4,width:i=290,height:r=25}=e;const{mode:o}=Object(l.useContext)(s.WindmillContext),d=[];for(let s=1;s<=t;s++)d.push(s);return Object(c.jsxs)(s.TableContainer,{className:"mb-8",children:[Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)(n.a,{height:40,width:i,count:a,inline:!0,className:"mx-1 my-1 dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===o?"#010101":"#f9f9f9"),highlightColor:("dark"===o?"#1a1c23":"#f8f8f8")+" "}),d.map((e=>Object(c.jsx)("div",{children:Object(c.jsx)(n.a,{height:r,width:i,count:a,inline:!0,className:"mx-1 my-1 dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===o?"#010101":"#f9f9f9"),highlightColor:("dark"===o?"#1a1c23":"#f8f8f8")+" "})},e)))]}),Object(c.jsxs)(s.TableFooter,{className:"flex justify-between",children:[Object(c.jsx)(n.a,{className:"dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===o?"#010101":"#f9f9f9"),highlightColor:("dark"===o?"#1a1c23":"#f8f8f8")+" ",height:25,width:290,count:1}),Object(c.jsx)(n.a,{className:"dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===o?"#010101":"#f9f9f9"),highlightColor:("dark"===o?"#1a1c23":"#f8f8f8")+" ",height:25,width:290,count:1})]})]})}},673:function(e,t,a){"use strict";a(0);var s=a(64),l=a(654),n=a(633),c=a(63),i=a(2);t.a=e=>{let{id:t,title:a,handleUpdate:r,handleModalOpen:o,isCheck:d,product:u,parent:p,children:g}=e;const{t:b}=Object(n.a)();return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"flex justify-end text-right",children:[(null===g||void 0===g?void 0:g.length)>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(c.b,{to:`/categories/${t}`,className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(i.jsx)(l.a,{id:"view",Icon:s.w,title:b("View"),bgColor:"#10B981"})}),Object(i.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>r(t),className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(i.jsx)(l.a,{id:"edit",Icon:s.e,title:b("Edit"),bgColor:"#10B981"})})]}):Object(i.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>r(t,a),className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(i.jsx)(l.a,{id:"edit",Icon:s.e,title:b("Edit"),bgColor:"#10B981"})}),Object(i.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>o(t,a,u),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:Object(i.jsx)(l.a,{id:"delete",Icon:s.o,title:b("Delete"),bgColor:"#EF4444"})})]})})}},677:function(e,t,a){"use strict";var s=a(35),l=a(2);t.a=e=>{let{register:t,required:a,maxValue:n,minValue:c,defaultValue:i,name:r,label:o,type:d,placeholder:u}=e;const p={valueAsNumber:!0,required:!a&&`${o} is required!`,max:{value:n,message:`Maximum value ${n}!`},min:{value:c,message:`Minimum value ${c}!`},pattern:{value:/^[0-9]*$/,message:`Invalid ${o}!`}};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"flex flex-row",children:Object(l.jsx)(s.Input,{...t(`${r}`,p),defaultValue:i,type:d,placeholder:u,name:r,className:"bg-gray-50 mr-2 rounded  w-full h-12 p-2 text-sm border border-gray-300 focus:bg-white focus:border-gray-300 focus:outline-none"})})})}},678:function(e,t,a){"use strict";var s=a(35),l=(a(0),a(2));t.a=e=>{let{register:t,name:a,label:n,placeholder:c,required:i,type:r,value:o}=e;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...t(`${a}`,{required:!i&&`${n} is required!`}),type:r,placeholder:c,name:a,value:o,rows:"4",spellCheck:"false"})})}},679:function(e,t,a){"use strict";var s=a(0),l=a(666),n=a.n(l),c=a(12),i=a(53),r=a(645),o=a(643),d=a(648),u=a(647),p=a(644),g=a(646),b=a(15),m=a(2);t.a=e=>{let{id:t,status:a,category:l,currencyStatusName:j}=e;const h=Object(c.useLocation)(),{setIsUpdate:x}=Object(s.useContext)(i.a);return Object(m.jsx)(n.a,{onChange:()=>(async e=>{try{let t;if(t="show"===a?"hide":"show","/categories"===h.pathname||l){const a=await o.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/products"===h.pathname){const a=await g.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/languages"===h.pathname){const a=await p.a.updateStatus(e,{status:t});console.log("status :",t),x(!0),Object(b.c)(a.message)}if("/currencies"===h.pathname)if("status"===j){const a=await u.a.updateEnabledStatus(e,{status:t});x(!0),Object(b.c)(a.message)}else{const a=await u.a.updateLiveExchangeRateStatus(e,{live_exchange_rates:t});x(!0),Object(b.c)(a.message)}if("/attributes"===h.pathname){const a=await r.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if(h.pathname===`/attributes/${h.pathname.split("/")[2]}`){const a=await r.a.updateChildStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/coupons"===h.pathname){console.log("coupns",e);const a=await d.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/our-staff"===h.pathname){const a=await d.a.updateStaffStatus(e,{status:t});x(!0),Object(b.c)(a.message)}}catch(n){var t,s;Object(b.b)(n?null===n||void 0===n||null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message:null===n||void 0===n?void 0:n.message)}})(t),checked:"show"===a,className:"react-switch md:ml-0",uncheckedIcon:Object(m.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",width:120,fontSize:14,color:"white",paddingRight:22,paddingTop:1}}),width:30,height:15,handleDiameter:13,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:73,height:"100%",fontSize:14,color:"white",paddingLeft:20,paddingTop:1}})})}},680:function(e,t,a){"use strict";var s=a(699),l=a(35),n=a(670),c=a(90),i=a(677),r=a(65),o=a(668),d=a(678),u=a(658),p=a(53),g=a(0),b=a(168),m=a(12),j=a(645),h=a(643),x=a(648),O=a(647),y=a(644),f=a(646),v=a(15);var w=function(e){let t=arguments.length>2?arguments[2]:void 0;const[a,s]=Object(g.useState)(""),[l,n]=Object(g.useState)([]),[c,i]=Object(g.useState)([]),r=Object(m.useLocation)(),[o,d]=Object(g.useState)(""),[u,w]=Object(g.useState)(!0),[C,N]=Object(g.useState)(!0),[S,T]=Object(g.useState)([]),[k,A]=Object(g.useState)([]),[D,P]=Object(g.useState)(!1),[I,L]=Object(g.useState)(""),{isBulkDrawerOpen:_,closeBulkDrawer:M,setIsUpdate:$}=Object(g.useContext)(p.a),{register:B,handleSubmit:F,watch:R,setValue:E,clearErrors:V,formState:{errors:U}}=Object(b.a)();return Object(g.useEffect)((()=>{if(!_)return E("parent"),E("children"),E("type"),E("show"),E("name"),s(""),n([]),V("parent"),V("children"),V("type"),V("name"),E("name"),E("iso_code"),E("call_prefix"),E("currency"),E("zone"),V("name"),V("iso_code"),V("call_prefix"),V("currency"),V("zone"),V("status"),E("name"),E("iso_code"),E("country"),E("zone"),E("description"),V("name"),V("iso_code"),V("country"),V("zone"),V("status"),V("show"),V("description"),A([]),void T([])}),[E,_,V]),Object(g.useEffect)((()=>{s(R("children"))}),[R,a]),{register:B,watch:R,handleSubmit:F,onSubmit:async a=>{console.log("data",a);try{var s;const n={ids:e,categories:null===S||void 0===S?void 0:S.map((e=>e._id)),category:null===(s=k[0])||void 0===s?void 0:s._id,productType:[D?"food":"others"],quantity:a.quantity,tag:Array.isArray(a.tag)?a.tag:[],status:u?"show":"hide",tag:JSON.stringify(l)},c={ids:e,status:u?"show":"hide"},i={ids:e,enabled:u?"show":"hide",live_exchange_rates:C?"show":"hide"},d={ids:e,parentId:o,description:a.description,parentName:I,status:u?"show":"hide"},p={ids:e,option:a.option,status:u?"show":"hide"},g={ids:e,currentId:t,changeId:a.groupName,status:u?"show":"hide"},b={ids:e,startTime:a.startTime,endTime:a.endTime,status:u?"show":"hide"};if("/products"===r.pathname){console.log("productData",n);const e=await f.a.updateManyProducts(n);$(!0),Object(v.c)(e.message),M()}if("/coupons"===r.pathname){const e=await x.a.updateManyCoupons(b);$(!0),Object(v.c)(e.message),M()}if("/languages"===r.pathname){const e=await y.a.updateManyLanguage(c);$(!0),Object(v.c)(e.message),M(),console.log("languages update Many")}if("/currencies"===r.pathname){const e=await O.a.updateManyCurrencies(i);$(!0),Object(v.c)(e.message),M()}if("/categories"===r.pathname||r.pathname===`/categories/${t}`){const e=await h.a.updateManyCategory(d);$(!0),Object(v.c)(e.message),M()}if("/attributes"===r.pathname){const e=await j.a.updateManyAttribute(p);$(!0),Object(v.c)(e.message),M()}if(r.pathname===`/attributes/${r.pathname.split("/")[2]}`){const e=await j.a.updateManyChildAttribute(g);$(!0),Object(v.c)(e.message),M()}}catch(i){var n,c;console.log("err on bulk action",i),Object(v.b)(i?null===i||void 0===i||null===(n=i.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message:i.message)}},errors:U,tag:l,setTag:n,quantityy:c,setQuantity:i,published:u,setPublished:w,published2:C,setPublished2:N,checked:o,setChecked:d,selectedCategory:S,setSelectedCategory:T,defaultCategory:k,setDefaultCategory:A,selectCategoryName:I,setSelectCategoryName:L,isFoodItem:D,setIsFoodItem:P}},C=a(67),N=a(674),S=a.n(N),T=a(676),k=a(675),A=a(669),D=a(64),P=a(649),I=a(2);t.a=e=>{let{ids:t,title:a,lang:b,data:m,childId:j,attributes:h,isCheck:x}=e;const{toggleBulkDrawer:O,isBulkDrawerOpen:y,closeBulkDrawer:f}=Object(g.useContext)(p.a),{tag:N,setTag:L,published:_,register:M,onSubmit:$,errors:B,checked:F,setChecked:R,resetRefTwo:E,handleSubmit:V,setPublished:U,selectedCategory:q,setSelectedCategory:J,defaultCategory:z,setDefaultCategory:Z,selectCategoryName:H,setSelectCategoryName:G,setQuantity:Y,quantityy:K}=w(t,b,j),Q={motionName:"node-motion",motionAppear:!1,onAppearStart:e=>({height:0}),onAppearActive:e=>({height:e.scrollHeight}),onLeaveStart:e=>({height:e.offsetHeight}),onLeaveActive:()=>({height:0})},W=e=>{let t=[];if(void 0!==e)for(let a of e){let e=[];a.children&&a.children.length>0&&(e=a.children.map((e=>({title:Object(P.a)(e,b),key:e})))),t.push({title:Object(P.a)(null===a||void 0===a?void 0:a.parent,b),key:a._id,children:e})}return t},X=(e,t)=>{var a;return e._id===t?e:null===e||void 0===e||null===(a=e.children)||void 0===a?void 0:a.reduce(((e,a)=>null!==e&&void 0!==e?e:X(a,t)),void 0)},ee=e=>{var t,a;const s=null===x||void 0===x?void 0:x.find((t=>t===e));if((null===x||void 0===x?void 0:x.length)===(null===(t=m[0])||void 0===t||null===(a=t.children)||void 0===a?void 0:a.length))return Object(v.b)("This can't be select as a parent category!");if(void 0!==s)return Object(v.b)("This can't be select as a parent category!");if(e===j)return Object(v.b)("This can't be select as a parent category!");{if(void 0===e)return;R(e);const t=m[0],a=X(t,e);G(Object(P.a)(null===a||void 0===a?void 0:a.name,b))}},te="\n  .rc-tree-child-tree {\n    display: hidden;\n  }\n  .node-motion {\n    transition: all .3s;\n    overflow-y: hidden;\n  }\n";return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(T.a,{open:y,onClose:f,parent:null,level:null,placement:"right",children:[Object(I.jsx)("button",{onClick:O,className:"absolute focus:outline-none z-50 text-red-500 hover:bg-red-100 hover:text-gray-700 transition-colors duration-150 bg-white shadow-md mr-6 mt-6 right-0 left-auto w-10 h-10 rounded-full block text-center",children:Object(I.jsx)(D.u,{className:"mx-auto"})}),Object(I.jsxs)("div",{className:"flex flex-col w-full h-full justify-between",children:[Object(I.jsx)("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:Object(I.jsx)(u.a,{title:`Update Selected ${a}`,description:`Apply changes to the selected ${a} from the list`})}),Object(I.jsx)(A.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:Object(I.jsxs)("form",{onSubmit:V($),className:"block",children:[Object(I.jsxs)("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:["Products"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Categorys"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(n.a,{lang:b,selectedCategory:q,setSelectedCategory:J,setDefaultCategory:Z})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Default Category"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(S.a,{displayValue:"name",isObject:!0,singleSelect:!0,ref:E,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:e=>Z(e),selectedValues:z,options:q,placeholder:"Default Category"})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(o.a,{handleProcess:U,processOption:_}),Object(I.jsx)(c.a,{errorName:B.status})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Product Tags"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(s.a,{placeholder:"Product Tag (Write then press enter to add new tag )",tags:N,onChange:e=>L(e)})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[Object(I.jsx)(r.a,{label:Object(C.b)("ProductQuantity")}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(i.a,{register:M,minValue:0,label:"Quantity",name:"stock",type:"number",placeholder:Object(C.b)("ProductQuantity"),quantity:K,onChange:e=>Y(e),required:!1}),Object(I.jsx)(c.a,{errorName:B.stock})]})]})]}),"Coupons"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Start Time"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(l.Input,{...M("startTime",{required:"Coupon Validation Start Time"}),label:"Coupon Validation Start Time",name:"startTime",type:"datetime-local",placeholder:"Start Time",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsx)(c.a,{errorName:B.startTime})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"End Time"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(l.Input,{...M("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:"End Time",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsx)(c.a,{errorName:B.endTime})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(o.a,{handleProcess:U,processOption:_}),Object(I.jsx)(c.a,{errorName:B.published})]})]})]}),"Languages"===a&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(o.a,{title:"",processOption:_,handleProcess:U})})]})}),"Currencies"===a&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Enabled"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(o.a,{title:"",processOption:_,handleProcess:U})})]})}),"Categories"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Description"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(d.a,{required:!0,register:M,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),Object(I.jsx)(c.a,{errorName:B.description})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Parent Category"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(l.Input,{readOnly:!0,...M("parent",{required:!1}),name:"parent",value:H||"Home",placeholder:"parent category",type:"text",className:"border h-12 w-full text-sm focus:outline-none block bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(I.jsx)("style",{dangerouslySetInnerHTML:{__html:te}}),Object(I.jsx)(k.a,{treeData:W(m),selectedKeys:[F],onSelect:e=>ee(e[0]),motion:Q,animation:"slide-up"})]})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(o.a,{title:"",processOption:_,handleProcess:U})})]})]}),"Child Categories"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Description"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(d.a,{required:!0,register:M,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),Object(I.jsx)(c.a,{errorName:B.description})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Parent Category"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(l.Input,{readOnly:!0,...M("parent",{required:!1}),name:"parent",value:H||"Home",placeholder:"parent category",type:"text",className:"border h-12 w-full text-sm focus:outline-none block bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(I.jsx)("style",{dangerouslySetInnerHTML:{__html:te}}),Object(I.jsx)(k.a,{treeData:W(m),selectedKeys:[F],onSelect:e=>ee(e[0]),motion:Q,animation:"slide-up"})]})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(o.a,{title:"",processOption:_,handleProcess:U})})]})]}),"Attributes"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Options"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsxs)(l.Select,{className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:"option",...M("option",{required:"Option is required!"}),children:[Object(I.jsx)("option",{value:"",defaultValue:!0,hidden:!0,children:"Select type"}),Object(I.jsx)("option",{value:"Dropdown",children:"Dropdown"}),Object(I.jsx)("option",{value:"Radio",children:"Radio"})]}),Object(I.jsx)(c.a,{errorName:B.option})]})]}),Object(I.jsx)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4"})})]}),"Attribute Value(s)"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Change Attribute Group"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsxs)(l.Select,{className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:"groupName",...M("groupName",{required:!1}),children:[Object(I.jsx)("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Attribute Group"}),h&&h.length>0?h.map(((e,t)=>Object(I.jsx)("option",{value:e._id,children:Object(P.a)(null===e||void 0===e?void 0:e.name.en,b)},t+1))):Object(I.jsx)("option",{value:"",disabled:!0,children:"No attribute groups available"})]}),Object(I.jsx)(c.a,{errorName:B.groupName})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(r.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(o.a,{title:"",processOption:_,handleProcess:U})})]})]})]}),Object(I.jsxs)("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[Object(I.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(I.jsx)(l.Button,{onClick:O,className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),Object(I.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(I.jsxs)(l.Button,{type:"submit",className:"w-full h-12",children:[" ","Bulk Update ",a]})})]})]})})]})]})})}},691:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return n}));var s=a(89);const l=(e,t)=>s(e).format(t),n=(e,t,a)=>s(e).format(`${t} ${a}`)},736:function(e,t,a){"use strict";var s=a(35),l=a(2);t.a=e=>{let{register:t,required:a,maxValue:n,minValue:c,defaultValue:i,name:r,label:o,type:d,placeholder:u,currency:p,product:g}=e;const b={valueAsNumber:!0,required:!a&&`${o} is required!`,max:{value:n,message:`Maximum value ${n}!`},min:{value:c,message:`Minimum value ${c}!`},pattern:{value:/^[0-9]*$/,message:`Invalid ${o}!`}};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"flex flex-row",children:[g&&Object(l.jsx)("span",{className:"inline-flex items-center px-3 rounded rounded-r-none border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm focus:bg-white focus:border-green-300 dark:bg-gray-700 dark:text-gray-300 dark:border dark:border-gray-600",children:p}),Object(l.jsx)(s.Input,{...t(`${r}`,b),defaultValue:i,type:d,placeholder:u,name:r,step:.01,className:`bg-gray-50 mr-2 rounded w-full h-12 p-2 text-sm border border-gray-300 focus:bg-white focus:border-gray-300 focus:outline-none ${g&&"rounded-l-none"}`})]})})}}}]);
//# sourceMappingURL=19.87748841.chunk.js.map