(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[8],{1224:function(e,s,a){"use strict";var t=a(87),r=a.n(t),c=a(1),l=a(62),o=a(46),n=a(121),i=a(101),m=a(8);s.a=()=>{const[e,s]=Object(c.useState)(!1),{dispatch:a}=Object(c.useContext)(n.a),t=Object(o.useHistory)(),d=Object(o.useLocation)(),{register:b,handleSubmit:j,formState:{errors:h}}=Object(l.a)();return{onSubmit:e=>{let{name:c,email:l,verifyEmail:o,password:n,role:b}=e;s(!0);"/login"===d.pathname&&i.a.loginAdmin({email:l,password:n}).then((e=>{e&&e.token&&(console.log("Login response:",e),r.a.set("adminInfo",JSON.stringify(e),{expires:.5}),s(!1),Object(m.c)("Login Success!"),a({type:"USER_LOGIN",payload:{token:e.token}}),localStorage.setItem("email",l),t.replace("/"))})).catch((e=>{console.error("Login error:",e),Object(m.b)(e?e.response.data.message:e.message),s(!1)})),"/signup"===d.pathname&&i.a.registerAdmin({name:c,email:l,password:n,role:b}).then((e=>{e&&(s(!1),Object(m.c)("Register Success!"),a({type:"USER_LOGIN",payload:e}),r.a.set("adminInfo",JSON.stringify(e),{expires:.5}),t.replace("/"))})).catch((e=>{Object(m.b)(e?e.response.data.message:e.message),s(!1)})),"/forgot-password"===d.pathname&&(console.log("Forgot Password form submitted:",o),i.a.forgetPassword({verifyEmail:o}).then((e=>{s(!1),console.log("Password reset response:",e),Object(m.c)(e.message)})).catch((e=>{s(!1),console.error("Password reset error:",e),Object(m.b)(e?e.response.data.message:e.message)})))},register:b,handleSubmit:j,errors:h,loading:e}}},1232:function(e,s,a){"use strict";a.r(s);a(1);var t=a(31),r=a(4),c=a(1227),l=a(139),o=a(17),n=a(40),i=a(15),m=a(301),d=a(1224),b=a.p+"static/media/create-account-office.080280cb.jpeg",j=a.p+"static/media/create-account-office-dark.080280cb.jpeg",h=a(2);s.default=()=>{const{t:e}=Object(l.a)(),{onSubmit:s,register:a,handleSubmit:x,errors:g,loading:p}=Object(d.a)();return Object(h.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(h.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:Object(h.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(h.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(h.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:b,alt:"Office"}),Object(h.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:j,alt:"Office"})]}),Object(h.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:e("CreateAccount")}),Object(h.jsxs)("form",{onSubmit:x(s),children:[Object(h.jsx)(i.a,{label:"Name"}),Object(h.jsx)(n.a,{register:a,label:"Name",name:"name",type:"text",placeholder:"Admin"}),Object(h.jsx)(o.a,{errorName:g.name}),Object(h.jsx)(i.a,{label:"Email"}),Object(h.jsx)(n.a,{register:a,label:"Email",name:"email",type:"email",placeholder:"john@doe.com"}),Object(h.jsx)(o.a,{errorName:g.email}),Object(h.jsx)(i.a,{label:"Password"}),Object(h.jsx)(n.a,{register:a,label:"Password",name:"password",type:"password",placeholder:"***************"}),Object(h.jsx)(o.a,{errorName:g.password}),Object(h.jsx)(i.a,{label:"Staff Role"}),Object(h.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(h.jsx)(m.a,{register:a,label:"Role",name:"role"}),Object(h.jsx)(o.a,{errorName:g.role})]}),Object(h.jsxs)(r.Label,{className:"mt-6",check:!0,children:[Object(h.jsx)(r.Input,{type:"checkbox"}),Object(h.jsxs)("span",{className:"ml-2",children:[e("Iagree")," ",Object(h.jsx)("span",{className:"underline",children:e("privacyPolicy")})]})]}),Object(h.jsx)(r.Button,{disabled:p,type:"submit",className:"mt-4 h-12 w-full",to:"/dashboard",block:!0,children:e("CreateAccountTitle")})]}),Object(h.jsx)("hr",{className:"my-10"}),Object(h.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2 md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-blue-600 h-11 md:h-12 w-full mr-2",children:[Object(h.jsx)(c.a,{className:"w-4 h-4 mr-2"})," ",Object(h.jsxs)("span",{className:"ml-2",children:[" ",e("LoginWithFacebook")," "]})]}),Object(h.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2  md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-red-500 h-11 md:h-12 w-full",children:[Object(h.jsx)(c.b,{className:"w-4 h-4 mr-2"})," ",Object(h.jsx)("span",{className:"ml-2",children:e("LoginWithGoogle")})]}),Object(h.jsx)("p",{className:"mt-4",children:Object(h.jsx)(t.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/login",children:e("AlreadyAccount")})})]})})]})})})}}}]);
//# sourceMappingURL=8.033fda87.chunk.js.map